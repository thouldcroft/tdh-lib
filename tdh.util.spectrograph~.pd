#N canvas 1993 -68 1435 662 10;
#N canvas 789 23 651 544 fft-analysis 0;
#X obj 15 164 *~;
#X obj 14 99 inlet~;
#X obj 15 218 rfft~;
#X obj 36 140 tabreceive~ \$0-hann;
#X obj 14 306 *~;
#X obj 56 306 *~;
#X obj 15 356 sqrt~;
#X obj 23 386 loadbang;
#X obj 23 449 tgl 15 0 empty empty empty 0 -6 0 8 #fcfcfc #000000 #000000
0 1;
#X obj 15 8 block~ 512;
#X text 225 131 tabreceive~ outputs array contents \,;
#X text 225 149 constantly \, every block. Here it's;
#X text 223 169 used to get the Hann window to;
#X text 225 187 multiply by the input.;
#X text 120 7 block~ object does no computation but declares this;
#X text 120 24 window to be operating at a different block size from
;
#X text 122 58 Fourier transform.;
#X text 121 40 the parent window. This determines the size of the;
#X text 76 99 The inlet~ automatically re-blocks to the new block size.
;
#X obj 15 332 +~;
#X text 94 308 Take the magnitude by squaring real and imaginary part
\, adding and taking square root.;
#X text 110 424 periodically graph the output. It appears every 512
samples (about 12 milliseconds) but we only update the graph 4 times
per second. The graph is back on the main (parent) window.;
#X text 82 215 forward real FFT. Like "fft~" \, but only one inlet
(for the real part) and only the first half of the output signals are
used. (The others are determined by symmetry: they're complex conjugates
of the first half \, in reverse order.) This takes 1/2 the CPU time
of "fft".;
#X obj 14 498 tabwrite~ \$0-spectrum;
#X obj 23 470 metro 50;
#X connect 0 0 2 0;
#X connect 1 0 0 0;
#X connect 2 0 4 0;
#X connect 2 0 4 1;
#X connect 2 1 5 0;
#X connect 2 1 5 1;
#X connect 3 0 0 1;
#X connect 4 0 19 0;
#X connect 5 0 19 1;
#X connect 6 0 23 0;
#X connect 7 0 8 0;
#X connect 8 0 24 0;
#X connect 19 0 6 0;
#X connect 24 0 23 0;
#X restore 914 225 pd fft-analysis;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$0-spectrum 256 float 0;
#X coords 0 128 255 0 500 100 1;
#X restore 170 137 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$0-hann 512 float 1;
#A 0 0 3.76403e-05 0.000150591 0.000338793 0.000602275 0.000940949
0.00135478 0.00184369 0.00240764 0.00304651 0.00376022 0.00454867 0.00541174
0.0063493 0.00736117 0.00844723 0.00960734 0.0108413 0.0121489 0.01353
0.0149843 0.0165117 0.0181119 0.0197847 0.0215298 0.0233469 0.0252359
0.0271963 0.0292279 0.0313304 0.0335035 0.0357469 0.0380602 0.040443
0.042895 0.0454159 0.0480053 0.0506627 0.0533878 0.0561801 0.0590393
0.0619648 0.0649564 0.0680135 0.0711356 0.0743223 0.0775731 0.0808875
0.0842651 0.0877052 0.0912074 0.0947713 0.0983961 0.102081 0.105827
0.109631 0.113495 0.117416 0.121395 0.125432 0.129524 0.133673 0.137876
0.142134 0.146446 0.150812 0.155229 0.159699 0.16422 0.168792 0.173413
0.178084 0.182803 0.18757 0.192384 0.197244 0.20215 0.207101 0.212096
0.217134 0.222215 0.227337 0.232501 0.237705 0.242948 0.24823 0.253551
0.258908 0.264301 0.26973 0.275194 0.280692 0.286222 0.291785 0.297379
0.303004 0.308658 0.314341 0.320052 0.32579 0.331555 0.337344 0.343159
0.348997 0.354857 0.36074 0.366643 0.372567 0.378509 0.38447 0.390449
0.396444 0.402454 0.40848 0.414518 0.42057 0.426634 0.432709 0.438794
0.444888 0.450991 0.457101 0.463217 0.469339 0.475466 0.481596 0.487729
0.493864 0.499999 0.506135 0.51227 0.518403 0.524533 0.53066 0.536782
0.542898 0.549008 0.55511 0.561205 0.56729 0.573365 0.579428 0.58548
0.591519 0.597544 0.603555 0.60955 0.615528 0.621489 0.627432 0.633356
0.639259 0.645142 0.651002 0.65684 0.662654 0.668444 0.674209 0.679947
0.685658 0.691341 0.696995 0.70262 0.708214 0.713777 0.719307 0.724805
0.730269 0.735698 0.741091 0.746448 0.751768 0.757051 0.762294 0.767498
0.772662 0.777784 0.782865 0.787903 0.792898 0.797849 0.802755 0.807615
0.812429 0.817196 0.821915 0.826586 0.831207 0.835779 0.8403 0.84477
0.849187 0.853553 0.857865 0.862123 0.866327 0.870475 0.874568 0.878604
0.882583 0.886505 0.890368 0.894173 0.897918 0.901603 0.905228 0.908792
0.912294 0.915734 0.919112 0.922426 0.925677 0.928864 0.931986 0.935043
0.938035 0.94096 0.943819 0.946612 0.949337 0.951994 0.954584 0.957104
0.959557 0.961939 0.964253 0.966496 0.968669 0.970772 0.972803 0.974764
0.976653 0.97847 0.980215 0.981888 0.983488 0.985015 0.98647 0.987851
0.989158 0.990392 0.991553 0.992639 0.993651 0.994588 0.995451 0.99624
0.996953 0.997592 0.998156 0.998645 0.999059 0.999398 0.999661 0.999849
0.999962 1 0.999962 0.999849 0.999661 0.999398 0.999059 0.998645 0.998156
0.997593 0.996954 0.99624 0.995451 0.994588 0.993651 0.992639 0.991553
0.990393 0.989159 0.987851 0.98647 0.985016 0.983489 0.981888 0.980216
0.978471 0.976653 0.974765 0.972804 0.970773 0.96867 0.966497 0.964254
0.96194 0.959557 0.957106 0.954585 0.951995 0.949338 0.946613 0.94382
0.940961 0.938036 0.935044 0.931987 0.928865 0.925678 0.922428 0.919113
0.915736 0.912295 0.908793 0.905229 0.901605 0.897919 0.894174 0.89037
0.886506 0.882585 0.878605 0.874569 0.870477 0.866328 0.862125 0.857866
0.853554 0.849189 0.844772 0.840302 0.835781 0.831209 0.826588 0.821917
0.817198 0.812431 0.807617 0.802757 0.797851 0.7929 0.787906 0.782867
0.777787 0.772664 0.7675 0.762296 0.757053 0.751771 0.746451 0.741093
0.7357 0.730271 0.724807 0.71931 0.713779 0.708216 0.702622 0.696998
0.691344 0.68566 0.679949 0.674211 0.668447 0.662657 0.656843 0.651005
0.645144 0.639262 0.633358 0.627435 0.621492 0.615531 0.609553 0.603558
0.597547 0.591522 0.585483 0.579431 0.573367 0.567292 0.561207 0.555113
0.549011 0.542901 0.536785 0.530663 0.524536 0.518406 0.512273 0.506138
0.500002 0.493867 0.487732 0.481599 0.475468 0.469342 0.46322 0.457104
0.450994 0.444891 0.438797 0.432712 0.426637 0.420573 0.414521 0.408482
0.402457 0.396447 0.390452 0.384473 0.378512 0.37257 0.366646 0.360743
0.35486 0.349 0.343162 0.337347 0.331558 0.325793 0.320055 0.314344
0.308661 0.303007 0.297382 0.291788 0.286225 0.280694 0.275197 0.269733
0.264304 0.258911 0.253553 0.248233 0.242951 0.237708 0.232504 0.22734
0.222217 0.217137 0.212098 0.207103 0.202153 0.197247 0.192386 0.187572
0.182806 0.178087 0.173416 0.168794 0.164223 0.159702 0.155232 0.150814
0.146449 0.142137 0.137879 0.133675 0.129527 0.125434 0.121398 0.117418
0.113497 0.109633 0.105829 0.102084 0.0983981 0.0947733 0.0912094 0.0877071
0.0842671 0.0808895 0.077575 0.0743241 0.0711374 0.0680152 0.0649581
0.0619665 0.059041 0.0561818 0.0533894 0.0506643 0.0480068 0.0454174
0.0428965 0.0404444 0.0380616 0.0357483 0.0335049 0.0313317 0.0292291
0.0271975 0.025237 0.023348 0.0215309 0.0197858 0.0181129 0.0165127
0.0149852 0.0135309 0.0121497 0.0108421 0.00960809 0.00844795 0.00736183
0.00634989 0.00541228 0.00454918 0.0037607 0.00304693 0.00240803 0.00184402
0.00135505 0.000941187 0.000602454 0.000338942 0.000150681 3.76999e-05
;
#X coords 0 1 511 0 200 120 1;
#X restore 1219 152 graph;
#X msg 1161 150 0;
#X obj 1055 199 osc~;
#X obj 1055 151 samplerate~;
#X obj 1055 222 *~ -0.5;
#X obj 1055 245 +~ 0.5;
#X obj 1047 270 tabwrite~ \$0-hann;
#X text 1205 144 1;
#X text 1198 262 0;
#X text 1214 275 0;
#X obj 1055 175 / 512;
#X obj 1048 90 bng 15 250 50 0 empty empty empty 0 -6 0 8 #fcfcfc #000000
#000000;
#X text 1324 129 Hann window;
#X text 1103 197 period 512;
#X text 1080 84 recalculate Hann;
#X text 1104 97 window table;
#X text 1400 278 511;
#X obj 1047 60 inlet;
#X obj 874 252 outlet~;
#X obj 874 48 inlet~;
#X text 928 254 Thru;
#X obj 1150 54 loadbang;
#X text 155 251 20;
#X text 174 251 500;
#X text 188 264 1000;
#X text 202 250 2000;
#X text 246 250 4000;
#X text 166 264 250;
#X text 163 235 |;
#X text 172 235 |;
#X text 179 235 |;
#X text 189 235 |;
#X text 211 235 |;
#X text 256 235 |;
#X text 302 235 |;
#X text 293 250 6000;
#X text 351 235 |;
#X text 340 250 8000;
#X text 393 235 |;
#X text 382 250 10000;
#X text 438 235 |;
#X text 427 250 12000;
#X text 484 235 |;
#X text 473 250 14000;
#X text 530 235 |;
#X text 519 250 16000;
#X text 576 235 |;
#X text 565 250 18000;
#X text 619 235 |;
#X text 608 250 20000;
#X text 666 235 |;
#X text 655 250 22000;
#X text 356 268 Frequency in Hz;
#X text 145 180 0.5-;
#X text 156 130 1-;
#X text 156 227 0-;
#X text 131 138 Magnitude, f 1;
#X obj 103 291 cnv 15 695 27 empty empty Spectrograph 20 12 0 14 #e0e0e0
#404040 0;
#X text 101 101 in;
#X text 757 101 recalc;
#X text 100 333 thru;
#X connect 3 0 4 1;
#X connect 4 0 6 0;
#X connect 5 0 12 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 12 0 4 0;
#X connect 13 0 5 0;
#X connect 13 0 3 0;
#X connect 13 0 8 0;
#X connect 19 0 13 0;
#X connect 21 0 0 0;
#X connect 21 0 20 0;
#X connect 23 0 13 0;
#X coords 0 -1 1 1 700 250 2 100 100;
